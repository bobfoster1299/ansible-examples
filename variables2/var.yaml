---
- hosts: centos-7-1
  vars:
    inv_file: /home/vagrant/inv.txt
  tasks:
    - name: create file
      file:
        path: "{{inv_file}}"
        state: touch
    - name: generate inventory
      lineinfile:
        path: "{{inv_file}}"
        line: "{{ groups['labservers']|join(' ') }}"
